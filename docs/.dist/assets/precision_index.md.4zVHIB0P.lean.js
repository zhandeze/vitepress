import{_ as z,o,c as d,j as l,t as m,F as k,C as x,n as S,e as C,u as q,a2 as E,h as H,a3 as Q,Z as O,a4 as T,a5 as V,G as D,k as Y}from"./chunks/framework.CJK9F0vG.js";function L(t,n){return n===void 0&&(n=15),+parseFloat(Number(t).toPrecision(n))}function $(t){var n=t.toString().split(/[eE]/),e=(n[0].split(".")[1]||"").length-+(n[1]||0);return e>0?e:0}function I(t){if(t.toString().indexOf("e")===-1)return Number(t.toString().replace(".",""));var n=$(t);return n>0?L(Number(t)*Math.pow(10,n)):Number(t)}function j(t){G&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&console.warn(t+" is beyond boundary when transfer to integer, the results may not be accurate")}function F(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var u=n[0],s=n.slice(1);return s.reduce(function(i,r){return t(i,r)},u)}}var _=F(function(t,n){var e=I(t),u=I(n),s=$(t)+$(n),i=e*u;return j(i),i/Math.pow(10,s)}),tt=F(function(t,n){var e=Math.pow(10,Math.max($(t),$(n)));return(_(t,e)+_(n,e))/e}),et=F(function(t,n){var e=Math.pow(10,Math.max($(t),$(n)));return(_(t,e)-_(n,e))/e}),U=F(function(t,n){var e=I(t),u=I(n);return j(e),j(u),_(e/u,L(Math.pow(10,$(n)-$(t))))});function nt(t,n){var e=Math.pow(10,n),u=U(Math.round(Math.abs(_(t,e))),e);return t<0&&u!==0&&(u=_(u,-1)),u}var G=!0;function lt(t){t===void 0&&(t=!0),G=t}var R={strip:L,plus:tt,minus:et,times:_,divide:U,round:nt,digitLength:$,float2Fixed:I,enableBoundaryChecking:lt};function K(t){let n=0,[e,u]=t.split(".");if(e&&(n+=parseInt(e,2)),u)for(let s=0;s<u.length;s++){const i=-(s+1);if(u[s]==="1"){const r=Math.pow(2,i);n+=r}}return n}function A(t){const n=Number.isInteger(t)?t.toString(2):st(t);return rt(t,n)}function st(t,n=100){let e=t<0;e&&(t=-t);let u=Math.floor(t),s="";do s=u%2+s,u=Math.floor(u/2);while(u>0);let i=t-Math.floor(t),r="";for(let b=0;b<n&&i>0;b++){i=R.times(i,2);let v=Math.floor(i);r+=v,i=R.minus(i,v)}let c=s+(r?"."+r:"");return e&&(c="-"+c),c}function rt(t,n){const[e,u=""]=n.split(".");let s=e,i,r,c,b="0";if(t===0&&!Object.is(0,t)?(b="1",n="-0",r=-1023):s[0]==="-"&&(b="1",s=s.slice(1)),u.length>52){const g=s==="0"?u.indexOf("1")+1:0;i=u.slice(0,52+g),n=`${e}.${u.slice(0,54+g)}`,u[52+g]==="1"&&(c=W(`${s}.${i}`,`0.${"".padStart(51+g,"0")}1`),c.a+=n.slice(-2),[s,i]=c.result.split("."))}else i=u.padEnd(52,"0");const v=`${s}.${i}`;[1,-1].includes(t)?r=0:s==="0"?(r=i.indexOf("1")+1,i=i.slice(r),r=-r):r=s.length-1;const w=r+1023,y=w.toString(2).padStart(11,"0");return w===0&&(r=0),{num:t,binary:n,actualBinary:v,rounded:c,index:r,actualIndex:w,sign:b,exponent:y,mantissa:i}}function ut(t,n){return J(t,n,!0)}function it(t,n){return J(t,n,!1)}function J(t,n,e){let u=A(t),s=A(n);const i=t<0&&n<0||t>0&&n>0,r=Math.abs(t),c=Math.abs(n),b=(e?t+n:t-n)<0?"-":"",v=e?!i:i,w=v?at:W;v&&r<c&&([u,s]=[s,u]);const y=w(u.actualBinary,s.actualBinary);return e?y.expression=`${t} + ${n} = ${t+n}`:y.expression=`${t} - ${n} = ${t-n}`,y.num1=u,y.num2=s,y.value=b+K(y.result),y.minus=v,y}function W(t,n){const e=X(t,n);t=e.a,n=e.b;let u=Array(t.length+1).fill(0),s=Array(t.length+1).fill(0),i=0;for(let c=t.length-1;c>=0;c--){const b=Number(t[c])+Number(n[c])+i;b>1?(i=1,u[c]=1,c===0&&(s[0]=1)):i=0,[1,3].includes(b)&&(s[c+1]=1)}s[0]===0&&(u.shift(),s.shift()),u=u.join(""),s=s.join(""),s.length>t.length&&(t=t.padStart(s.length,"0"),n=n.padStart(s.length,"0"),e.astart+=s.length-t.length,e.bstart+=s.length-t.length);const r=e.decimalLength;return e.a=M(t,r),e.b=M(n,r),e.result=M(s,r),e.carry=M(u,r),e}function at(t,n){const e=X(t,n);t=e.a,n=e.b;let u=new Array(t.length).fill(0),s=t.split("").map(v=>Number(v)),i="",r,c;for(let v=s.length-1;v>=0;v--)r=s[v],c=Number(n[v]),r<c&&(r+=2,u[v]=2,s[v-1]-=1),i=r-c+i;const b=e.decimalLength;return e.a=M(t,b),e.b=M(n,b),e.result=M(i,b),e.borrows=M(u,b),e.borroweds=M(s,b),e}function X(t,n){const e=(g,N,p)=>{const a=Math.max(g.length,N.length),f=Math.abs(g.length-N.length);let h=0,B=0;return g.length>N.length?B=f:h=f,g=g[p](a,"0"),N=N[p](a,"0"),[g,N,h,B]};let[u,s=""]=t.split("."),[i,r=""]=n.split("."),c=0,b=0,v=0,w=0;[u,i,c,b]=e(u,i,"padStart"),(s||r)&&([s,r,v,w]=e(s,r,"padEnd")),t=u+s,n=i+r;const y=s.length;return{a:t,b:n,decimalLength:y,astart:c,bstart:b,aend:v,bend:w}}function M(t,n){return n?t.slice(0,-n).concat(".").concat(t.slice(-n)):t}const ot={key:0,class:"result",style:{"--labelWidth":"auto"}},dt={class:"field-item"},ct={class:"value"},ft={class:"field-item"},mt={class:"value"},vt={class:"field-item"},bt={class:"value"},ht={class:"field-item"},pt={class:"value"},yt={class:"field-item"},gt={class:"value"},kt={class:"span1"},xt={class:"span1"},wt={class:"span1"},$t={class:"field-item"},Nt={class:"value"},Mt={key:0,class:"field-item column"},_t={class:"value"},Ct={__name:"result",props:{result:Object},setup(t){return(n,e)=>t.result?(o(),d("div",ot,[l("div",dt,[e[0]||(e[0]=l("div",{class:"label"},"输入值：",-1)),l("div",ct,m(t.result.num),1)]),l("div",ft,[e[1]||(e[1]=l("div",{class:"label"},"初始值：",-1)),l("div",mt,m(t.result.binary)+"（长度"+m(t.result.binary.length)+"）",1)]),l("div",vt,[e[2]||(e[2]=l("div",{class:"label"},"实际值：",-1)),l("div",bt,m(t.result.actualBinary)+"（长度"+m(t.result.actualBinary.length)+"）",1)]),l("div",ht,[e[3]||(e[3]=l("div",{class:"label"},"符号位：",-1)),l("div",pt,m(t.result.sign),1)]),l("div",yt,[e[4]||(e[4]=l("div",{class:"label"},"指数位：",-1)),l("div",gt,[l("span",kt,m(t.result.exponent),1),l("span",xt,m(t.result.actualIndex),1),l("span",wt,"2 ^ "+m(t.result.index),1)])]),l("div",$t,[e[5]||(e[5]=l("div",{class:"label"},"尾数位：",-1)),l("div",Nt,m(t.result.mantissa),1)]),t.result.rounded?(o(),d("div",Mt,[e[6]||(e[6]=l("div",{class:"label"},"舍入情况：",-1)),l("div",_t,[l("table",null,[l("tbody",null,[l("tr",null,[(o(!0),d(k,null,x(t.result.rounded.a,(u,s)=>(o(),d("td",{key:s,class:S([{active1:u!=t.result.rounded.result[s]}])},m(u),3))),128))]),l("tr",null,[(o(!0),d(k,null,x(t.result.rounded.b,(u,s)=>(o(),d("td",{key:s},m(u),1))),128))]),l("tr",null,[(o(!0),d(k,null,x(t.result.rounded.carry,(u,s)=>(o(),d("td",{key:s,class:S([{active2:u==1}])},m(u==1?u:""),3))),128))]),l("tr",null,[(o(!0),d(k,null,x(t.result.rounded.result,(u,s)=>(o(),d("td",{key:s,class:S([{active:u!=t.result.rounded.a[s]}])},m(u),3))),128))])])])])])):C("",!0)])):C("",!0)}},P=z(Ct,[["__scopeId","data-v-11b593cd"]]),St=["name"],Bt={class:"top-view"},It={class:"table1"},Et={class:"table1"},Tt={class:"output"},Vt={class:"input-view"},Dt=["onClick"],Ft={style:{"margin-top":"30px"}},Ot={key:0,class:"tr-borrows"},Pt={key:1,class:"tr-borroweds"},jt={key:2,class:"tr-carry"},At={__name:"index",setup(t){const{isDark:n}=q(),e=E({index:0,list:[{name:"+",type:"plus",handler:ut},{name:"-",type:"minus",handler:it}]}),u=H(()=>e.list[e.index]),s=E({num:"",precision:"54",result:null}),i=E({num:"",result:""}),r=E({num1:"",num2:"",result1:null,result2:null,result:null,decimal:null}),c=Q("inputRef2");function b(p){["+","-"].includes(p.key)&&(r.num1=r.num1.slice(0,-1),e.index=e.list.findIndex(a=>a.name===p.key),c.value.select(),c.value.focus())}function v(p){if(p==="")throw new Error("不能为空");if(p=Number(p),isNaN(p))throw new Error("请输入数字");return p}function w(){s.result=A(v(s.num))}function y(){i.result=K(i.num)}function g(){const p=v(r.num1),a=v(r.num2);r.result=u.value.handler(p,a)}function N(p,a,f){const h=p[a],B=p[a+"start"],Z=h.length-1-p[a+"end"];return f<B||f>Z}return(p,a)=>(o(),d("div",{class:"container",name:Y(n)?"dark":null},[l("div",Bt,[a[11]||(a[11]=l("h5",null,"十进制转二进制",-1)),l("form",{action:"#",onSubmit:O(w,["prevent"])},[l("table",It,[a[5]||(a[5]=l("thead",null,[l("tr",null,[l("th",null,"数字"),l("th",null,"操作")])],-1)),l("tbody",null,[l("tr",null,[l("td",null,[T(l("input",{"onUpdate:modelValue":a[0]||(a[0]=f=>s.num=f),class:"input number",placeholder:"请输入数字"},null,512),[[V,s.num,void 0,{trim:!0}]])]),a[4]||(a[4]=l("td",null,[l("button",{type:"submit",class:"button active"},"确认")],-1))])])])],32),D(P,{result:s.result},null,8,["result"]),a[12]||(a[12]=l("h5",{style:{"margin-top":"30px"}},"二进制转十进制",-1)),l("form",{action:"#",onSubmit:O(y,["prevent"])},[l("table",Et,[a[7]||(a[7]=l("thead",null,[l("tr",null,[l("th",null,"请输入"),l("th",null,"操作")])],-1)),l("tbody",null,[l("tr",null,[l("td",null,[T(l("input",{"onUpdate:modelValue":a[1]||(a[1]=f=>i.num=f),class:"input number",placeholder:"请输入数字"},null,512),[[V,i.num,void 0,{trim:!0}]])]),a[6]||(a[6]=l("td",null,[l("button",{class:"button active",type:"submit"},"确认")],-1))])])])],32),l("div",Tt,"输出："+m(i.result),1),l("form",{action:"#",onSubmit:O(g,["prevent"])},[l("div",Vt,[T(l("input",{class:"input","onUpdate:modelValue":a[2]||(a[2]=f=>r.num1=f),placeholder:"请输入数字",onKeyup:b},null,544),[[V,r.num1]]),(o(!0),d(k,null,x(e.list,(f,h)=>(o(),d("span",{class:S(["button",{active:e.index===h}]),key:f.type,onClick:B=>e.index=h},m(f.name),11,Dt))),128)),T(l("input",{ref_key:"inputRef2",ref:c,class:"input","onUpdate:modelValue":a[3]||(a[3]=f=>r.num2=f),placeholder:"请输入数字"},null,512),[[V,r.num2]]),a[8]||(a[8]=l("button",{class:"button active",type:"submit"},"确认",-1))])],32),r.result?(o(),d(k,{key:0},[D(P,{result:r.result.num1,style:{margin:"12px 0 40px 0"}},null,8,["result"]),D(P,{result:r.result.num2},null,8,["result"]),l("div",Ft,[a[9]||(a[9]=l("div",null,"运算结果：",-1)),l("table",null,[l("tbody",null,[l("tr",null,[(o(!0),d(k,null,x(r.result.a,(f,h)=>(o(),d("td",{key:h,class:S([{active1:N(r.result,"a",h)}])},m(f),3))),128))]),r.result.borrows?(o(),d("tr",Ot,[(o(!0),d(k,null,x(r.result.borrows,(f,h)=>(o(),d("td",{key:h},m(f||""),1))),128))])):C("",!0),r.result.borroweds?(o(),d("tr",Pt,[(o(!0),d(k,null,x(r.result.borroweds,(f,h)=>(o(),d("td",{key:h},m(f),1))),128))])):C("",!0),l("tr",null,[(o(!0),d(k,null,x(r.result.b,(f,h)=>(o(),d("td",{key:h,class:S([{active1:N(r.result,"b",h)}])},m(f),3))),128))]),r.result.carry?(o(),d("tr",jt,[(o(!0),d(k,null,x(r.result.carry,(f,h)=>(o(),d("td",{key:h},m(f==1?f:""),1))),128))])):C("",!0),l("tr",null,[(o(!0),d(k,null,x(r.result.result,(f,h)=>(o(),d("td",{key:h},m(f),1))),128))])])]),l("div",null,"运算方式：二进制"+m(r.result.minus?"减法":"加法"),1),l("div",null,"二进制结果："+m(r.result.result),1),l("div",null,"二转十结果："+m(r.result.value),1),l("div",null,"js运算："+m(r.result.expression),1),a[10]||(a[10]=l("div",null,"蓝色0：长度不一致时所补的0",-1))])],64)):C("",!0)])],8,St))}},Lt=z(At,[["__scopeId","data-v-141f272b"]]),Ut=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"page"},"headers":[],"relativePath":"precision/index.md","filePath":"precision/index.md"}'),Rt={name:"precision/index.md"},Gt=Object.assign(Rt,{setup(t){return(n,e)=>(o(),d("div",null,[D(Lt)]))}});export{Ut as __pageData,Gt as default};
