import{_ as z,o,c as d,j as l,t as m,F as x,C as k,n as C,e as _,a2 as E,h as Z,a3 as q,Z as P,a4 as T,a5 as V,G as F}from"./chunks/framework.CJK9F0vG.js";function R(t,e){return e===void 0&&(e=15),+parseFloat(Number(t).toPrecision(e))}function $(t){var e=t.toString().split(/[eE]/),n=(e[0].split(".")[1]||"").length-+(e[1]||0);return n>0?n:0}function B(t){if(t.toString().indexOf("e")===-1)return Number(t.toString().replace(".",""));var e=$(t);return e>0?R(Number(t)*Math.pow(10,e)):Number(t)}function A(t){G&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&console.warn(t+" is beyond boundary when transfer to integer, the results may not be accurate")}function O(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var u=e[0],s=e.slice(1);return s.reduce(function(r,i){return t(r,i)},u)}}var M=O(function(t,e){var n=B(t),u=B(e),s=$(t)+$(e),r=n*u;return A(r),r/Math.pow(10,s)}),H=O(function(t,e){var n=Math.pow(10,Math.max($(t),$(e)));return(M(t,n)+M(e,n))/n}),Q=O(function(t,e){var n=Math.pow(10,Math.max($(t),$(e)));return(M(t,n)-M(e,n))/n}),U=O(function(t,e){var n=B(t),u=B(e);return A(n),A(u),M(n/u,R(Math.pow(10,$(e)-$(t))))});function Y(t,e){var n=Math.pow(10,e),u=U(Math.round(Math.abs(M(t,n))),n);return t<0&&u!==0&&(u=M(u,-1)),u}var G=!0;function tt(t){t===void 0&&(t=!0),G=t}var D={strip:R,plus:H,minus:Q,times:M,divide:U,round:Y,digitLength:$,float2Fixed:B,enableBoundaryChecking:tt};function K(t){let e=0,[n,u]=t.split(".");if(n&&(e+=parseInt(n,2)),u)for(let s=0;s<u.length;s++){const r=-(s+1);if(u[s]==="1"){const i=Math.pow(2,r);e+=i}}return e}function L(t){const e=Number.isInteger(t)?t.toString(2):et(t);return nt(t,e)}function et(t,e=100){let n=t<0;n&&(t=-t);let u=Math.floor(t),s="";do s=u%2+s,u=Math.floor(u/2);while(u>0);let r=t-Math.floor(t),i="";for(let v=0;v<e&&r>0;v++){r=D.times(r,2);let b=Math.floor(r);i+=b,r=D.minus(r,b)}let f=s+(i?"."+i:"");return n&&(f="-"+f),f}function nt(t,e){const[n,u=""]=e.split(".");let s=n,r,i,f,v="0";if(t===0&&!Object.is(0,t)?(v="1",e="-0",i=-1023):s[0]==="-"&&(v="1",s=s.slice(1)),u.length>52){const g=s==="0"?u.indexOf("1")+1:0;r=u.slice(0,52+g),e=`${n}.${u.slice(0,54+g)}`,u[52+g]==="1"&&(f=W(`${s}.${r}`,`0.${"".padStart(51+g,"0")}1`),f.a+=e.slice(-2),[s,r]=f.result.split("."))}else r=u.padEnd(52,"0");const b=`${s}.${r}`;[1,-1].includes(t)?i=0:s==="0"?(i=r.indexOf("1")+1,r=r.slice(i),i=-i):i=s.length-1;const w=i+1023,y=w.toString(2).padStart(11,"0");return w===0&&(i=0),{num:t,binary:e,actualBinary:b,rounded:f,index:i,actualIndex:w,sign:v,exponent:y,mantissa:r}}function lt(t,e){return J(t,e,!0)}function st(t,e){return J(t,e,!1)}function J(t,e,n){let u=L(t),s=L(e);const r=t<0&&e<0||t>0&&e>0,i=Math.abs(t),f=Math.abs(e),v=(n?t+e:t-e)<0?"-":"",b=n?!r:r,w=b?rt:W;b&&i<f&&([u,s]=[s,u]);const y=w(u.actualBinary,s.actualBinary);return n?y.expression=`${t} + ${e} = ${t+e}`:y.expression=`${t} - ${e} = ${t-e}`,y.num1=u,y.num2=s,y.value=v+K(y.result),y.minus=b,y}function W(t,e){const n=X(t,e);t=n.a,e=n.b;let u=Array(t.length+1).fill(0),s=Array(t.length+1).fill(0),r=0;for(let f=t.length-1;f>=0;f--){const v=Number(t[f])+Number(e[f])+r;v>1?(r=1,u[f]=1,f===0&&(s[0]=1)):r=0,[1,3].includes(v)&&(s[f+1]=1)}s[0]===0&&(u.shift(),s.shift()),u=u.join(""),s=s.join(""),s.length>t.length&&(t=t.padStart(s.length,"0"),e=e.padStart(s.length,"0"),n.astart+=s.length-t.length,n.bstart+=s.length-t.length);const i=n.decimalLength;return n.a=N(t,i),n.b=N(e,i),n.result=N(s,i),n.carry=N(u,i),n}function rt(t,e){const n=X(t,e);t=n.a,e=n.b;let u=new Array(t.length).fill(0),s=t.split("").map(b=>Number(b)),r="",i,f;for(let b=s.length-1;b>=0;b--)i=s[b],f=Number(e[b]),i<f&&(i+=2,u[b]=2,s[b-1]-=1),r=i-f+r;const v=n.decimalLength;return n.a=N(t,v),n.b=N(e,v),n.result=N(r,v),n.borrows=N(u,v),n.borroweds=N(s,v),n}function X(t,e){const n=(g,h,a)=>{const c=Math.max(g.length,h.length),p=Math.abs(g.length-h.length);let S=0,I=0;return g.length>h.length?I=p:S=p,g=g[a](c,"0"),h=h[a](c,"0"),[g,h,S,I]};let[u,s=""]=t.split("."),[r,i=""]=e.split("."),f=0,v=0,b=0,w=0;[u,r,f,v]=n(u,r,"padStart"),(s||i)&&([s,i,b,w]=n(s,i,"padEnd")),t=u+s,e=r+i;const y=s.length;return{a:t,b:e,decimalLength:y,astart:f,bstart:v,aend:b,bend:w}}function N(t,e){return e?t.slice(0,-e).concat(".").concat(t.slice(-e)):t}const ut={key:0,class:"result",style:{"--labelWidth":"auto"}},it={class:"field-item"},at={class:"value"},ot={class:"field-item"},dt={class:"value"},ct={class:"field-item"},ft={class:"value"},mt={class:"field-item"},vt={class:"value"},bt={class:"field-item"},ht={class:"value"},pt={class:"span1"},yt={class:"span1"},gt={class:"span1"},xt={class:"field-item"},kt={class:"value"},wt={key:0,class:"field-item column"},$t={class:"value"},Nt={__name:"result",props:{result:Object},setup(t){return(e,n)=>t.result?(o(),d("div",ut,[l("div",it,[n[0]||(n[0]=l("div",{class:"label"},"输入值：",-1)),l("div",at,m(t.result.num),1)]),l("div",ot,[n[1]||(n[1]=l("div",{class:"label"},"初始值：",-1)),l("div",dt,m(t.result.binary)+"（长度"+m(t.result.binary.length)+"）",1)]),l("div",ct,[n[2]||(n[2]=l("div",{class:"label"},"实际值：",-1)),l("div",ft,m(t.result.actualBinary)+"（长度"+m(t.result.actualBinary.length)+"）",1)]),l("div",mt,[n[3]||(n[3]=l("div",{class:"label"},"符号位：",-1)),l("div",vt,m(t.result.sign),1)]),l("div",bt,[n[4]||(n[4]=l("div",{class:"label"},"指数位：",-1)),l("div",ht,[l("span",pt,m(t.result.exponent),1),l("span",yt,m(t.result.actualIndex),1),l("span",gt,"2 ^ "+m(t.result.index),1)])]),l("div",xt,[n[5]||(n[5]=l("div",{class:"label"},"尾数位：",-1)),l("div",kt,m(t.result.mantissa),1)]),t.result.rounded?(o(),d("div",wt,[n[6]||(n[6]=l("div",{class:"label"},"舍入情况：",-1)),l("div",$t,[l("table",null,[l("tbody",null,[l("tr",null,[(o(!0),d(x,null,k(t.result.rounded.a,(u,s)=>(o(),d("td",{key:s,class:C([{active1:u!=t.result.rounded.result[s]}])},m(u),3))),128))]),l("tr",null,[(o(!0),d(x,null,k(t.result.rounded.b,(u,s)=>(o(),d("td",{key:s},m(u),1))),128))]),l("tr",null,[(o(!0),d(x,null,k(t.result.rounded.carry,(u,s)=>(o(),d("td",{key:s,class:C([{active2:u==1}])},m(u==1?u:""),3))),128))]),l("tr",null,[(o(!0),d(x,null,k(t.result.rounded.result,(u,s)=>(o(),d("td",{key:s,class:C([{active:u!=t.result.rounded.a[s]}])},m(u),3))),128))])])])])])):_("",!0)])):_("",!0)}},j=z(Nt,[["__scopeId","data-v-11b593cd"]]),Mt={class:"container"},_t={class:"top-view"},Ct={class:"table1"},St={class:"table1"},Bt={class:"output"},It={class:"input-view"},Et=["onClick"],Tt={style:{"margin-top":"30px"}},Vt={key:0,class:"tr-borrows"},Ft={key:1,class:"tr-borroweds"},Ot={key:2,class:"tr-carry"},Pt={__name:"index",setup(t){const e=E({index:0,list:[{name:"+",type:"plus",handler:lt},{name:"-",type:"minus",handler:st}]}),n=Z(()=>e.list[e.index]),u=E({num:"",precision:"54",result:null}),s=E({num:"",result:""}),r=E({num1:"",num2:"",result1:null,result2:null,result:null,decimal:null}),i=q("inputRef2");function f(h){["+","-"].includes(h.key)&&(r.num1=r.num1.slice(0,-1),e.index=e.list.findIndex(a=>a.name===h.key),i.value.select(),i.value.focus())}function v(h){if(h==="")throw new Error("不能为空");if(h=Number(h),isNaN(h))throw new Error("请输入数字");return h}function b(){u.result=L(v(u.num))}function w(){s.result=K(s.num)}function y(){const h=v(r.num1),a=v(r.num2);r.result=n.value.handler(h,a)}function g(h,a,c){const p=h[a],S=h[a+"start"],I=p.length-1-h[a+"end"];return c<S||c>I}return(h,a)=>(o(),d("div",Mt,[l("div",_t,[a[11]||(a[11]=l("h5",null,"十进制转二进制",-1)),l("form",{action:"#",onSubmit:P(b,["prevent"])},[l("table",Ct,[a[5]||(a[5]=l("thead",null,[l("tr",null,[l("th",null,"数字"),l("th",null,"操作")])],-1)),l("tbody",null,[l("tr",null,[l("td",null,[T(l("input",{"onUpdate:modelValue":a[0]||(a[0]=c=>u.num=c),class:"input number",placeholder:"请输入数字"},null,512),[[V,u.num,void 0,{trim:!0}]])]),a[4]||(a[4]=l("td",null,[l("button",{type:"submit",class:"button active"},"确认")],-1))])])])],32),F(j,{result:u.result},null,8,["result"]),a[12]||(a[12]=l("h5",{style:{"margin-top":"30px"}},"二进制转十进制",-1)),l("form",{action:"#",onSubmit:P(w,["prevent"])},[l("table",St,[a[7]||(a[7]=l("thead",null,[l("tr",null,[l("th",null,"请输入"),l("th",null,"操作")])],-1)),l("tbody",null,[l("tr",null,[l("td",null,[T(l("input",{"onUpdate:modelValue":a[1]||(a[1]=c=>s.num=c),class:"input number",placeholder:"请输入数字"},null,512),[[V,s.num,void 0,{trim:!0}]])]),a[6]||(a[6]=l("td",null,[l("button",{class:"button active",type:"submit"},"确认")],-1))])])])],32),l("div",Bt,"输出："+m(s.result),1),l("form",{action:"#",onSubmit:P(y,["prevent"])},[l("div",It,[T(l("input",{class:"input","onUpdate:modelValue":a[2]||(a[2]=c=>r.num1=c),placeholder:"请输入数字",onKeyup:f},null,544),[[V,r.num1]]),(o(!0),d(x,null,k(e.list,(c,p)=>(o(),d("span",{class:C(["button",{active:e.index===p}]),key:c.type,onClick:S=>e.index=p},m(c.name),11,Et))),128)),T(l("input",{ref_key:"inputRef2",ref:i,class:"input","onUpdate:modelValue":a[3]||(a[3]=c=>r.num2=c),placeholder:"请输入数字"},null,512),[[V,r.num2]]),a[8]||(a[8]=l("button",{class:"button active",type:"submit"},"确认",-1))])],32),r.result?(o(),d(x,{key:0},[F(j,{result:r.result.num1,style:{margin:"12px 0 40px 0"}},null,8,["result"]),F(j,{result:r.result.num2},null,8,["result"]),l("div",Tt,[a[9]||(a[9]=l("div",null,"运算结果：",-1)),l("table",null,[l("tbody",null,[l("tr",null,[(o(!0),d(x,null,k(r.result.a,(c,p)=>(o(),d("td",{key:p,class:C([{active1:g(r.result,"a",p)}])},m(c),3))),128))]),r.result.borrows?(o(),d("tr",Vt,[(o(!0),d(x,null,k(r.result.borrows,(c,p)=>(o(),d("td",{key:p},m(c||""),1))),128))])):_("",!0),r.result.borroweds?(o(),d("tr",Ft,[(o(!0),d(x,null,k(r.result.borroweds,(c,p)=>(o(),d("td",{key:p},m(c),1))),128))])):_("",!0),l("tr",null,[(o(!0),d(x,null,k(r.result.b,(c,p)=>(o(),d("td",{key:p,class:C([{active1:g(r.result,"b",p)}])},m(c),3))),128))]),r.result.carry?(o(),d("tr",Ot,[(o(!0),d(x,null,k(r.result.carry,(c,p)=>(o(),d("td",{key:p},m(c==1?c:""),1))),128))])):_("",!0),l("tr",null,[(o(!0),d(x,null,k(r.result.result,(c,p)=>(o(),d("td",{key:p},m(c),1))),128))])])]),l("div",null,"运算方式：二进制"+m(r.result.minus?"减法":"加法"),1),l("div",null,"二进制结果："+m(r.result.result),1),l("div",null,"二转十结果："+m(r.result.value),1),l("div",null,"js运算："+m(r.result.expression),1),a[10]||(a[10]=l("div",null,"蓝色0：长度不一致时所补的0",-1))])],64)):_("",!0)])]))}},jt=z(Pt,[["__scopeId","data-v-70bcc0df"]]),Rt=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"page"},"headers":[],"relativePath":"precision/index.md","filePath":"precision/index.md"}'),At={name:"precision/index.md"},Dt=Object.assign(At,{setup(t){return(e,n)=>(o(),d("div",null,[F(jt)]))}});export{Rt as __pageData,Dt as default};
